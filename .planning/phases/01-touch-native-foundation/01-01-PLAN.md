---
phase: 01-touch-native-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/ControlBar.tsx
autonomous: true

must_haves:
  truths:
    - "User can tap any button without selecting text"
    - "User can tap any button repeatedly without triggering double-tap zoom"
    - "All buttons have tap targets large enough for comfortable mobile use"
  artifacts:
    - path: "src/components/ControlBar.tsx"
      provides: "Touch-native button styling"
      min_lines: 240
      contains: "min-h-11"
  key_links:
    - from: "button elements"
      to: "Tailwind classes"
      via: "className attributes"
      pattern: "select-none.*touch-manipulation|touch-manipulation.*select-none"
---

<objective>
Make all buttons in ControlBar touch-native with proper tap targets, no text selection, and no double-tap zoom.

Purpose: Establish foundation for native app feel by ensuring buttons behave like app controls, not web text.
Output: Updated ControlBar.tsx with minimum 44px tap targets and touch prevention CSS on all buttons.
</objective>

<execution_context>
@C:\Users\Daniel\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\Daniel\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@h:/film/.planning/PROJECT.md
@h:/film/.planning/ROADMAP.md
@h:/film/.planning/REQUIREMENTS.md
@h:/film/src/components/ControlBar.tsx
</context>

<tasks>

<task type="auto">
  <name>Increase button tap targets to 44px minimum</name>
  <files>src/components/ControlBar.tsx</files>
  <action>
Update all button className attributes in ControlBar.tsx to meet 44px minimum tap target:

Current sizing:
- Play/pause: `px-3 py-1.5` (~36-38px height)
- Step buttons (−/+): `px-2 py-1.5 text-sm` (~32-36px)
- Jump buttons (±Xs): `px-1.5 py-1 text-xs` (~28-32px)
- Hold buttons: `py-3` on mobile, `py-1.5` on desktop (~48px mobile, ~36px desktop)
- Speed/step selects: `px-2 py-1.5` (~36-38px)

Changes needed:
1. **Play/pause button**: Change `py-1.5` → `py-2.5` (reaches ~44px with existing padding)
2. **Step buttons** (line 150, 158): Change `px-2 py-1.5` → `px-3 py-2.5` (increase vertical + horizontal padding)
3. **Jump buttons** (line 169, 177): Change `px-1.5 py-1` → `px-2.5 py-2.5 text-sm` (increase padding significantly, bump text size to sm)
4. **Select elements** (speed, stepPreset): Change `px-2 py-1.5` → `px-2 py-2.5` (increase vertical padding)
5. **Hold buttons**: Already `py-3` on mobile (48px+), but change desktop to match: Change `sm:py-1.5` → `sm:py-2.5`

Do NOT change the container-level min-h-10 rule (line 95) - that's a fallback, not the primary sizing.

Keep all other classes (colors, borders, hover states, dark mode, etc.) unchanged.
  </action>
  <verify>
npm run build
# Should compile successfully with no errors
  </verify>
  <done>
All buttons have increased padding values that result in 44px+ tap targets on mobile. Build passes.
  </done>
</task>

<task type="auto">
  <name>Add touch prevention CSS to all buttons</name>
  <files>src/components/ControlBar.tsx</files>
  <action>
Add `select-none` (user-select: none) and `touch-manipulation` (touch-action: manipulation) to all button className attributes in ControlBar.tsx.

Target buttons:
1. **Play/pause** (line ~105): Add `select-none touch-manipulation` to className
2. **Step buttons** (lines ~150, ~158): Add `select-none touch-manipulation` to className
3. **Jump buttons** (lines ~169, ~177): Add `select-none touch-manipulation` to className
4. **Hold buttons** (lines ~192, ~204): Already have `select-none touch-none` - change `touch-none` → `touch-manipulation` (touch-none is too aggressive and prevents scrolling on mobile; touch-manipulation only disables double-tap zoom)

Do NOT add to:
- Select elements (user needs to be able to select text in dropdown options)
- Span elements (time display, status text)
- Input elements (seek bar, number input)

Why touch-manipulation: Disables double-tap zoom but allows all other touch behaviors (unlike touch-none which disables everything).

Why select-none: Prevents text selection when tapping buttons repeatedly, which breaks the "native app" feel.

Note: -webkit-touch-callout is iOS-specific and not needed in Tailwind - iOS respects touch-action: manipulation for disabling callouts on buttons.
  </action>
  <verify>
npm run build
# Should compile successfully
# Manual: Open on mobile, tap buttons rapidly - no text selection should occur, no zoom on double-tap
  </verify>
  <done>
All button elements have `select-none` and `touch-manipulation` classes. Hold buttons changed from `touch-none` to `touch-manipulation`. Build passes.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Touch-native button foundation with 44px+ tap targets and touch prevention CSS.
  </what-built>
  <how-to-verify>
1. Load a video on the app
2. Test on mobile device or Chrome DevTools mobile emulator:
   - Tap each button type (play/pause, step, jump, hold) - should be comfortable to hit
   - Tap buttons repeatedly in quick succession - no text should become selected
   - Double-tap any button quickly - page should NOT zoom in
3. Verify button sizes feel appropriate (not too large, not too small)
4. Check desktop view - buttons should still look good at larger viewport
  </how-to-verify>
  <resume-signal>Type "approved" to continue or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
Run build to verify no TypeScript or compilation errors.
Manual verification on mobile that:
- All buttons are easy to tap (44px+ targets)
- No text selection occurs when tapping buttons
- No zoom occurs when double-tapping buttons
</verification>

<success_criteria>
- All button elements in ControlBar.tsx have increased padding for 44px+ tap targets
- All button elements have `select-none` and `touch-manipulation` classes
- Hold buttons use `touch-manipulation` instead of `touch-none`
- Build compiles successfully
- User can comfortably tap all buttons on mobile without text selection or zoom
</success_criteria>

<output>
After completion, create `.planning/phases/01-touch-native-foundation/01-01-SUMMARY.md`
</output>
