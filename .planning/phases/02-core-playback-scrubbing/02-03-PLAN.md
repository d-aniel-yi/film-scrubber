---
phase: 02-core-playback-scrubbing
plan: 03
type: execute
wave: 2
depends_on: [02-01, 02-02]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "User can play/pause video with toggle button"
    - "User can switch between normal speed and slow-motion instantly"
    - "User can scrub to any position via seek bar"
    - "User can hold rewind button to scrub backward continuously"
    - "User can hold forward button to scrub forward continuously"
    - "Scrubbing feels smooth and consistent in both directions (no visible stutter)"
    - "User can jump backward/forward by 1s, 5s, or 10s with dedicated buttons"
  artifacts: []
  key_links: []
---

<objective>
Human verification of Phase 2 core playback and scrubbing functionality.

Purpose: Verify all Phase 2 requirements work correctly after implementing slow-mo toggle, removing step presets, and replacing setInterval scrubbing with RAF-based smooth scrubbing.

Output: User confirmation that all controls work smoothly or identification of issues to fix.
</objective>

<execution_context>
@C:\Users\Daniel\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\Daniel\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@h:/film/.planning/PROJECT.md
@h:/film/.planning/ROADMAP.md
@h:/film/.planning/STATE.md
@h:/film/.planning/phases/02-core-playback-scrubbing/02-01-SUMMARY.md
@h:/film/.planning/phases/02-core-playback-scrubbing/02-02-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Plans 02-01 and 02-02 implemented:
- Slow-mo toggle replacing speed dropdown
- Jump buttons (1s/5s/10s) for time navigation
- RAF-based smooth hold-to-scrub (forward and rewind)
- Configurable scrub speed multiplier
- Removal of step preset controls
  </what-built>
  <how-to-verify>
**Test Setup:**
1. Run `npm run dev`
2. Open http://localhost:3000 in browser
3. Load a YouTube video URL (e.g., https://www.youtube.com/watch?v=dQw4w9WgXcQ)
4. Wait for video to load and play controls to appear

**Test Cases:**

**1. Play/Pause Toggle (PLAY-01)**
- Click "Play" button → video should start playing, button text changes to "Pause"
- Click "Pause" button → video should pause, button text changes to "Play"
- Expected: Instant response, no lag

**2. Slow-Mo Toggle (PLAY-02)**
- With video playing or paused, click slow-mo toggle
- Expected: Button shows "0.25× Slow" with amber background, video speed changes to quarter-speed
- Click toggle again
- Expected: Button shows "1× Normal" with black background, video speed returns to normal
- Expected: Toggle switches instantly, no dropdown needed

**3. Seek Bar (PLAY-03)**
- Drag seek bar to different positions
- Expected: Video jumps to dragged position, smooth seeking

**4. Jump Buttons (JUMP-01, JUMP-02, JUMP-03)**
- Note current video timestamp
- Click "−1s" button → timestamp should go back 1 second
- Click "+1s" button → timestamp should go forward 1 second
- Click "−5s" button → timestamp should go back 5 seconds
- Click "+5s" button → timestamp should go forward 5 seconds
- Click "−10s" button → timestamp should go back 10 seconds
- Click "+10s" button → timestamp should go forward 10 seconds
- Expected: All jumps accurate, instant, video pauses during jump

**5. Hold-to-Rewind (SCRUB-01, SCRUB-03, SCRUB-04, SCRUB-05)**
- Press and hold "Rewind" button
- Expected: Video scrubs backward SMOOTHLY (no stutter or frame skipping), button shows active state (lighter background)
- Continue holding for 3-5 seconds
- Expected: Consistent smooth backward motion, no visible lag or jumping
- Release button
- Expected: Scrubbing stops, video remains paused at current position

**6. Hold-to-Forward (SCRUB-02, SCRUB-03, SCRUB-04, SCRUB-05)**
- Press and hold "Forward" button
- Expected: Video scrubs forward SMOOTHLY (no stutter), button shows active state
- Continue holding for 3-5 seconds
- Expected: Consistent smooth forward motion at same visual speed as rewind
- Release button
- Expected: Scrubbing stops, video remains paused

**7. Scrub Speed Multiplier (SCRUB-04)**
- Note default scrub speed (2×)
- Hold rewind/forward and observe scrubbing speed
- Change "Scrub speed" input to 5
- Hold rewind/forward again
- Expected: Scrubbing is noticeably faster (5× vs 2×)
- Change input to 0.5
- Hold rewind/forward again
- Expected: Scrubbing is much slower and more precise
- Refresh page
- Expected: Scrub speed setting persists (still 0.5 after refresh)

**8. Removed Controls Verification**
- Check ControlBar UI
- Expected: NO step preset dropdown visible
- Expected: NO "Fine/Medium/Coarse" selector visible
- Expected: NO step buttons (−/+ for frames) visible
- Expected: NO "Hold tick (ms)" input visible
- Expected: ONLY see: Play/Pause, Slow-mo toggle, Time display, Jump buttons (6 total), Hold buttons (2 total), Scrub speed input, Seek bar

**9. Visual Feedback (from Phase 1)**
- Click any button
- Expected: Button scales down slightly (active:scale-95) and background changes on press
- Hold rewind or forward button
- Expected: Active button shows distinct sustained visual state (lighter background) while held
- Release button
- Expected: Visual state returns to normal

**10. Touch/Mobile Behavior (from Phase 1)**
- Rapidly tap buttons multiple times
- Expected: No text selection occurs on buttons
- Expected: No double-tap zoom triggered
- Expected: All buttons responsive to touch

**Success Criteria:**
- All 10 test cases pass
- No visible stutter during hold-to-scrub
- Scrubbing feels smooth and professional
- All settings persist across page refresh

**If ANY test fails:**
- Note which test failed and what the actual behavior was
- Describe the issue in detail (e.g., "Scrubbing stutters every 200ms", "Slow-mo toggle doesn't change speed")
- Type the issue description to resume execution with bug fix

**If ALL tests pass:**
- Type "approved" to mark phase complete and continue
  </how-to-verify>
  <resume-signal>Type "approved" if all tests pass, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
User has tested all core playback and scrubbing functionality and confirmed:
1. Play/pause works
2. Slow-mo toggle switches speeds instantly
3. Seek bar works smoothly
4. All jump buttons (1s/5s/10s) work correctly
5. Hold-to-scrub (both directions) is smooth with no stutter
6. Scrub speed is configurable and persists
7. Old step preset controls are completely removed
8. Visual feedback states work correctly
</verification>

<success_criteria>
- User confirms all Phase 2 success criteria are met (from ROADMAP.md)
- No bugs or issues reported
- Ready to proceed to Phase 3
</success_criteria>

<output>
After approval, create `h:/film/.planning/phases/02-core-playback-scrubbing/02-03-SUMMARY.md` following the summary template.
</output>
